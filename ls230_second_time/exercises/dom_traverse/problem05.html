<!doctype html>
<html>

<head>
  <title>Coloring</title>
  <link href="style.css" rel="stylesheet">
</head>

<body>
  <article id="1">1
    <header id="2">2
      <span id="3">3
        <a href="#" id="4">4</a>
      </span>
    </header>
    <main id="5">5
      <section id="6">6
        <p id="7">7
          <span id="8">8
            <strong id="9">9
              <a href="#" id="10">10</a>
            </strong>
          </span>
        </p>
      </section>
      <section id="11">11
        <p id="12">12
          <span id="13">13
            <strong id="14">14
              <a href="#" id="15">15</a>
            </strong>
          </span>
        </p>
        <p id="16">16
          <span id="17">17
            <strong id="18">18
              <a href="#" id="19">19</a>
            </strong>
          </span>
          <span id="20">20
            <strong id="21">21
              <a href="#" id="22">22</a>
            </strong>
          </span>
        </p>
      </section>
    </main>
    <footer id="23">23
      <p id="24">24</p>
    </footer>
  </article>
  <script>
    function walk(node, callback) {
      callback(node);
      var i;
      for (i = 0; i < node.childNodes.length; i += 1) {
        walk(node.childNodes[i], callback);
      }
    }

    function colorGeneration(level) {
      var allElements = [];

      walk(document.body, function(node) {
        if (node instanceof Element &&
            confirmNodeLevel(node, level) &&
            node.hasAttribute('id')) {
          allElements.push(node);
        }
      });

      allElements.forEach(function(node) {
        node.setAttribute('class', 'generation-color');
      });
    }

    function confirmNodeLevel(node, level) {
      var nodeLevel = 0;

      while (node !== document.body) {
        nodeLevel += 1;
        node = node.parentNode;
      }

      return nodeLevel === level;
    }

    console.log(colorGeneration(1));
    console.log(colorGeneration(4));
    console.log(colorGeneration(7));
    console.log(colorGeneration(8));
    console.log(colorGeneration(3));
    console.log(colorGeneration(0));
  </script>
</body>

</html>
